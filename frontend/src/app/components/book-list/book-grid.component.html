
<app-book-category></app-book-category>
  <section class="py-5">
  
  <div class="container px-4 px-lg-5 mt-5">
      <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
          
          <div *ngFor="let book of books" class="col mb-5">
              <div class="card h-100">
                  <!-- Sale badge-->
                  <div class="badge bg-dark text-white position-absolute" style="top: 0.5rem; right: 0.5rem">Sale</div>
                  <!-- Product image-->
                 <img class="card-img-top" [src]="book.imageUrl" alt="..." style="height: 60%;"/>
                  <!-- Product details-->
                  <div class="card-body p-4">
                      <div class="text-center">
                          <!-- Product name-->
                         <a routerLink="/books/{{book.id}}"><h5 class="fw-bolder">{{book.name}}</h5></a> 
                          <span class="text-muted">{{book.description| slice:0:20}}...</span>
                          <!-- Product reviews-->
                          <div class="d-flex justify-content-center small text-warning mb-2">
                              <div class="bi-star-fill"><i class="bi bi-star-fill"></i>
                              </div>
                              <div class="bi-star-fill"></div>
                              <div class="bi-star-fill"></div>
                              <div class="bi-star-fill"></div>
                              <div class="bi-star-fill"></div>
                          </div>
                          <!-- Product price-->
                          <span class="text-muted text-decoration-line-through">{{book.unitPrice*2.4|currency:'MAD'}}</span>
                          {{book.unitPrice |currency:'MAD'}} 
                      </div>
                  </div>
                  <!-- Product actions-->

                  <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                      <div class="text-center"><a class="btn btn-outline-dark mt-auto" href="#">Add to cart</a></div>
                  </div>
              </div>
          </div>
          <div *ngIf="books?.length==0" class="col-md-12 alert alert-warning mt-2">No books found</div>
      </div>
      
  </div>
</section>

<div class="row">
<!--Pagination size-->
<div class="col-md-6">
<div class="row">
    <div class="col-md-3"><span class="mr-2">Page Size:</span></div>
<div class="col-md-9">
    
    <select (change)="updatePageSize($event)">
    <option value="6" selected>6</option>
    <option value="10" >10</option>
    <option value="20">20</option>
    <option value="50">50</option>
    </select>
</div>
</div>
</div>
    <!--Pagination selector-->
<div class="col-md-6">
    <ngb-pagination [(page)]="currentPage"
  [pageSize]="pageSize"
  [collectionSize]="totalRecords"
  (pageChange)="listBooks()"
  class="d-flex justify-content-end"
  >
  <ng-template ngbPaginationFirst>First</ng-template>
  <ng-template ngbPaginationLast>Last</ng-template>
  <ng-template ngbPaginationPrevious>Prev</ng-template>
  <ng-template ngbPaginationNext>Next</ng-template>
</ngb-pagination>
</div>

</div>


